{"version":3,"sources":["Image/welcome-inc2.png","Image/sorting-inc2.png","Image/result-inc2.png","actions/index.js","reducers/index.js","utils.js","components/Welcome.js","components/Question.js","components/Histogram.js","components/Visuals.js","components/Stats.js","components/Comparison.js","components/Interaction.js","components/Result.js","components/App.js","index.js"],"names":["module","exports","__webpack_require__","p","setActiveComponent","component","type","combineReducers","activeComponent","state","arguments","length","undefined","action","points","labels","attributes","candidates","mask","forEach","_ref","_ref2","Object","slicedToArray","attr","objectSpread","prunedPoints","indices","map","idx","step","concat","toConsumableArray","leftPoints","filter","indexOf","numLeftPoints","prev","numLeftPoints_noSort","num_noSort","mode","vertices","parsePoints","text","trim","split","slice","line","str","parseFloat","parseLabels","loadDataset","asyncToGenerator","regenerator_default","a","mark","_callee","pointsURL","labelsURL","response","wrap","_context","next","fetch","sent","t0","t1","abrupt","t2","t3","stop","_x","_x2","apply","this","selectCandidates","ranges","maxPoints","val","low","high","i","point","isValid","j","push","array2Vector2D","array","vector","window","Module","VecVecDouble","arr","vec","VectorDouble","x","push_back","delete","vector2Array2D","size","get","vector2Array","getPrunedIndices","prevIndices","currIndices","prunedIndices","Welcome","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleStart","_this$props$attribute","range","lowbound","inputs","current","bounds","upbound","alert","parseInt","value","startAlgorithm","handleModeChange","event","changeMode","target","React","createRef","_this2","trs","_ref3","_ref4","config","react_default","createElement","key","className","colSpan","id","slider","min","max","tooltipVisible","defaultValue","ref","style","textAlign","color","name","checked","onChange","htmlFor","marginLeft","maxWidth","carousel","autoplay","background","borderRadius","width","height","src","require","alt","onClick","Component","connect","_ref5","dispatch","setCandidates","toggleMask","defineProperty","SIMPLEX","RANDOM","choose_perround","choose_arrs","dragelement","putelement","sort_list_index","questionsnum","Question","dragStart","e","item","currentTarget","dragOver","preventDefault","drop","zhongjianvalue","childElementCount","variable","childNodes","innerText","ascSortfunction","strname","parentElement","sortindex","each_data_len","tbodyvalue","refs","items","datalist","namelist","firstChild","data_count","sortlist","Array","flag_sortlist","pair","max_record","k","cur_tr","dscSortfunction","choose","runner","stopInteraction","showResult","nextinteraction","convexHullVertices","readConvexHullVertices","updateConvexHull","getCandidatesIndices","questioNo","prunePoints","setLeftPoints_noSort","nextPair","setState","smallerBetter","VectorInt","candidatesVec","AlgorithmRunner","setLeftPoints","ths","verticalAlign","class","aria-hidden","display","cursor","tds","data-toggle","title","draggable","onDrag","onDrop","onDragOver","onDragStart","es_button","Histogram","_onMouseLeave","hintValue","_onNearestX","index","data","init","echartsData","option","myChart","echarts","document","getElementById","render","xAxisData","seriesData","v","y","tooltip","trigger","axisPointer","formatter","params","xAxis","axisTick","show","axisLine","axisLabel","yAxis","splitLine","left","series","barCategoryGap","symbol","opacity","itemStyle","setOption","nextProps","nextState","num","Visuals","components_Histogram","highcharts3d","Highcharts","Stats","MouseDown","posX","chart","pointer","normalize","pageX","posY","pageY","alpha","options","options3d","beta","newAlpha","newBeta","onmousemove","Math","redraw","onmouseup","cur_left_points","bind","assertThisInitialized","each_data","threeds_data","Chart","renderTo","margin","enabled","depth","viewDistance","frame","bottom","back","side","fitToPlot","credits","subtitle","plotOptions","scatter","marker","radius","gridLineWidth","zAxis","offset","legend","colorByPoint","onMouseDown","Comparison","noSortList","sortList","colors","categories","crosshair","headerFormat","pointFormat","footerFormat","shared","useHTML","column","borderWidth","Interaction","components_Question","components_Visuals","components_Stats","components_Comparison","restart","th","classNames","table-fixed","components_Welcome","components_Interaction","components_Result","onRuntimeInitialized","_onRuntimeInitialized","_yield$loadDataset","_yield$loadDataset2","store","createStore","rootReducer","es","components_App","script","async","body","appendChild"],"mappings":"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","file":"static/js/main.b4caf019.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/welcome-inc2.b1ff2b29.png\";","module.exports = __webpack_public_path__ + \"static/media/sorting-inc2.0c8500ee.png\";","module.exports = __webpack_public_path__ + \"static/media/result-inc2.3bc1b761.png\";","export const SET_ACTIVE_COMPONENT = \"SET_ACTIVE_COMPONENT\";\r\nexport const SET_CANDIDATES = \"SET_CANDIDATES\";\r\nexport const SET_DATASET = \"SET_DATASET\";\r\nexport const TOGGLE_MASK = \"TOGGLE_MASK\";\r\nexport const PRUNE_POINTS = \"PRUNE_POINTS\";\r\nexport const SET_LEFT_POINTS = \"SET_LEFT_POINTS\";\r\nexport const SET_MODE = \"SET_MODE\";\r\nexport const RESTART = \"RESTART\";\r\nexport const UPDATE_CONVEX_HULL = \"UPDATE_CONVEX_HULL\";\r\nexport const SET_LEFT_POINTS_NOSORT = \"SET_LEFT_POINTS_NOSORT\";\r\nexport const setActiveComponent = component => ({\r\n  type: SET_ACTIVE_COMPONENT,\r\n  component\r\n});\r\n\r\nexport const setCandidates = candidates => ({\r\n  type: SET_CANDIDATES,\r\n  candidates\r\n});\r\n\r\nexport const setDataset = (points, labels, attributes) => ({\r\n  type: SET_DATASET,\r\n  points,\r\n  labels,\r\n  attributes\r\n});\r\n\r\nexport const toggleMask = (attr, val) => ({\r\n  type: TOGGLE_MASK,\r\n  mask: { [attr]: val }\r\n});\r\n\r\nexport const prunePoints = (indices, step) => ({\r\n  type: PRUNE_POINTS,\r\n  indices,\r\n  step\r\n});\r\n\r\nexport const setLeftPoints = indices => ({\r\n  type: SET_LEFT_POINTS,\r\n  indices\r\n});\r\nexport const setLeftPoints_noSort = num_noSort => ({\r\n  type: SET_LEFT_POINTS_NOSORT,\r\n  num_noSort\r\n});\r\n\r\nexport const changeMode = mode => ({\r\n  type: SET_MODE,\r\n  mode\r\n});\r\n\r\nexport const restart = () => ({\r\n  type: RESTART\r\n});\r\n\r\nexport const updateConvexHull = vertices => ({\r\n  type: UPDATE_CONVEX_HULL,\r\n  vertices\r\n});\r\n","import { combineReducers } from \"redux\";\r\nimport {\r\n  SET_ACTIVE_COMPONENT,\r\n  SET_DATASET,\r\n  SET_CANDIDATES,\r\n  TOGGLE_MASK,\r\n  SET_LEFT_POINTS,\r\n  SET_LEFT_POINTS_NOSORT,\r\n  PRUNE_POINTS,\r\n  SET_MODE,\r\n  RESTART,\r\n  UPDATE_CONVEX_HULL\r\n} from \"../actions\";\r\n\r\nconst activeComponent = (state = \"Welcome\", action) => {\r\n  switch (action.type) {\r\n    case SET_ACTIVE_COMPONENT:\r\n      return action.component;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// all points in the dataset\r\nconst points = (state = null, action) => {\r\n  switch (action.type) {\r\n    case SET_DATASET:\r\n      return action.points;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// the labels of points\r\nconst labels = (state = null, action) => {\r\n  switch (action.type) {\r\n    case SET_DATASET:\r\n      return action.labels;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// the attribute names\r\nconst attributes = (state = null, action) => {\r\n  switch (action.type) {\r\n    case SET_DATASET:\r\n      return action.attributes;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// the set of points in the specified ranges.\r\nconst candidates = (state = null, action) => {\r\n  switch (action.type) {\r\n    case SET_CANDIDATES:\r\n      return action.candidates;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// show/hide attributes (this feature is not exposed in the UI)\r\nconst mask = (state = null, action) => {\r\n  switch (action.type) {\r\n    case SET_DATASET:\r\n      const mask = {};\r\n      action.attributes.forEach(([attr, config]) => {\r\n        mask[attr] = 1;\r\n      });\r\n      return mask;\r\n    case TOGGLE_MASK:\r\n      return { ...state, ...action.mask };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// the set of points pruned.\r\n// it is an array of [idx, step no.]\r\nconst prunedPoints = (state = [], action) => {\r\n  switch (action.type) {\r\n    case RESTART:\r\n      return [];\r\n    case PRUNE_POINTS:\r\n      const points = action.indices.map(idx => [idx, action.step]);\r\n      return [...points, ...state];\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// the set of candidate points\r\n// it is an array of indices\r\nconst leftPoints = (state = [], action) => {\r\n  switch (action.type) {\r\n    case RESTART:\r\n      return [];\r\n    case SET_LEFT_POINTS:\r\n      return action.indices;\r\n    case PRUNE_POINTS:\r\n      return state.filter(idx => action.indices.indexOf(idx) === -1);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// history of the number of left points\r\nconst numLeftPoints = (state = [], action) => {\r\n  switch (action.type) {\r\n    case SET_LEFT_POINTS:\r\n      return [action.indices.length];\r\n    case PRUNE_POINTS:\r\n      const prev = state[state.length - 1];\r\n      return [...state, prev - action.indices.length];\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst numLeftPoints_noSort = (state = null, action) => {\r\n  switch (action.type) {\r\n    case SET_LEFT_POINTS_NOSORT:\r\n      return action.num_noSort;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// the algorithm to select a pair of points.\r\nconst mode = (state = \"simplex\", action) => {\r\n  switch (action.type) {\r\n    case SET_MODE:\r\n      return action.mode;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// vertices of the convex hull of the preference space.\r\nconst vertices = (state = [], action) => {\r\n  switch (action.type) {\r\n    case UPDATE_CONVEX_HULL:\r\n      return action.vertices;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default combineReducers({\r\n  activeComponent,\r\n  points,\r\n  labels,\r\n  attributes,\r\n  candidates,\r\n  mask,\r\n  prunedPoints,\r\n  leftPoints,\r\n  numLeftPoints,\r\n  numLeftPoints_noSort,\r\n  mode,\r\n  vertices\r\n});\r\n","// read points from a text file\nfunction parsePoints(text) {\n  const points = text\n    .trim()\n    .split(\"\\n\")\n    .slice(1) // the first line is <numOfPoints> <dimension>\n    .map(line =>\n      line\n        .trim()\n        .split(/\\s+/)\n        .map(str => parseFloat(str))\n    );\n  return points;\n}\n\n// read labels from a text file\nfunction parseLabels(text) {\n  const labels = text.trim().split(\"\\n\");\n  return labels;\n}\n\n// check if val is in the range [low, high].\nfunction isInRange(val, low, high) {\n  return low <= val && val <= high;\n}\n\n// get the range of each attribute in a set of points.\nexport const getRanges = points => {\n  const ranges = points[0].map(x => ({ low: x, high: x }));\n  points.slice(1).forEach(point => {\n    point.forEach((x, i) => {\n      ranges[i].low = Math.min(ranges[i].low, x);\n      ranges[i].high = Math.max(ranges[i].high, x);\n    });\n  });\n  return ranges;\n};\n\n// load a dataset by reading its points and labels.\nexport const loadDataset = async (pointsURL, labelsURL) => {\n  let response = await fetch(pointsURL);\n  const points = parsePoints(await response.text());\n  if (labelsURL === undefined) {\n    return points;\n  }\n  response = await fetch(labelsURL);\n  const labels = parseLabels(await response.text());\n  return [points, labels];\n};\n\n// get points that are in the specified ranges.\nexport const selectCandidates = (points, ranges, mask, maxPoints) => {\n  const candidates = [];\n  for (let i = 0; i < points.length; ++i) {\n    if (candidates.length >= maxPoints) break;\n    const point = points[i];\n    let isValid = true;\n    for (let j = 0; j < point.length; ++j) {\n      if (mask[j] && !isInRange(point[j], ranges[j][0], ranges[j][1])) {\n        isValid = false;\n        break;\n      }\n    }\n    if (isValid) candidates.push(point);\n  }\n  return candidates;\n};\n\n// convert a JS array to a C++ 2D vector\nexport const array2Vector2D = array => {\n  const vector = new window.Module.VecVecDouble();\n  array.forEach(arr => {\n    const vec = new window.Module.VectorDouble();\n    arr.forEach(x => vec.push_back(x));\n    vector.push_back(vec);\n    vec.delete();\n  });\n  return vector;\n};\n\n// convert a C++ 2D vector to a JS array\nexport const vector2Array2D = vector => {\n  const array = [];\n  for (let i = 0; i < vector.size(); ++i) {\n    const vec = vector.get(i);\n    const arr = [];\n    for (let j = 0; j < vec.size(); ++j) arr.push(vec.get(j));\n    array.push(arr);\n  }\n  return array;\n};\n\n// convert a C++ vector to a JS array\nexport const vector2Array = vector => {\n  const array = [];\n  for (let i = 0; i < vector.size(); ++i) {\n    array.push(vector.get(i));\n  }\n  return array;\n};\n\n// get the indices of points pruned.\n// both prevIndices and currIndices need to be sorted.\nexport const getPrunedIndices = (prevIndices, currIndices) => {\n  let prunedIndices = [];\n  for (let i = 0, j = 0; i < prevIndices.size() || j < currIndices.size(); ) {\n    if (j >= currIndices.size() || prevIndices.get(i) < currIndices.get(j)) {\n      prunedIndices.push(prevIndices.get(i));\n      ++i;\n    } else {\n      ++i;\n      ++j;\n    }\n  }\n  return prunedIndices;\n};\n","import React from \"react\";\r\nimport {\r\n  setActiveComponent,\r\n  setCandidates,\r\n  toggleMask,\r\n  changeMode\r\n} from \"../actions\";\r\nimport { connect } from \"react-redux\";\r\nimport { selectCandidates } from \"../utils\";\r\nimport \"antd/dist/antd.css\";\r\nimport { Slider, Carousel } from \"antd\";\r\n\r\nimport \"jquery/dist/jquery.min.js\";\r\nimport \"bootstrap/dist/js/bootstrap\";\r\n\r\n// the welcome scene containing a brief introduction and a table to obtain the user's input\r\nclass Welcome extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.inputs ={};\r\n    this.props.attributes.forEach(([attr, config]) => {\r\n      this.inputs[attr] = [React.createRef(), React.createRef()];\r\n    });\r\n    this.inputs.maxPoints = React.createRef();\r\n  \r\n  }\r\n\r\n  handleStart = () => {\r\n    const ranges = [];\r\n    const mask = [];\r\n    for (let i = 0; i < this.props.attributes.length; ++i) {\r\n      const [attr, config] = this.props.attributes[i];\r\n      const range = [0, config.high];\r\n      if (this.props.mask[attr]) {    \r\n          const lowbound = this.inputs[attr][0].current.state.bounds[0];\r\n          const upbound = this.inputs[attr][0].current.state.bounds[1];\r\n          if (lowbound === upbound) {\r\n            alert(`upper bound should be  large than lower bound`);\r\n            return;\r\n          \r\n          }\r\n          else {           \r\n            range[1] = parseInt(upbound);\r\n            range[0] = parseInt(lowbound);\r\n          }\r\n        \r\n      }\r\n      ranges.push(range);\r\n      mask.push(this.props.mask[attr]);\r\n    }\r\n    let maxPoints;\r\n    const str = this.inputs.maxPoints.current.state.value;\r\n    maxPoints = parseInt(str);\t\r\n    if(this.props.mode === \"random\"){\r\n      maxPoints %= 9999;\r\n    }\r\n    \r\n    \r\n    const candidates = selectCandidates(\r\n      this.props.points,\r\n      ranges,\r\n      mask,\r\n      maxPoints\r\n    );\r\n    if (candidates.length === 0) {\r\n      alert(\"No matching players, try larger ranges\");\r\n      return;\r\n    }\r\n    this.props.startAlgorithm(candidates);\r\n  };\r\n\r\n  handleModeChange = event => {\r\n    this.props.changeMode(event.target.value);\r\n  };\r\n\r\n  render() {\r\n    const trs = this.props.attributes.map(([attr, config]) => {\r\n     // const disabled = this.props.mask[attr] === 0;\r\n\r\n     // defaultValue={[high/2 - high/3-10,high/2+high/3+10]}  defaultValue={[0,high/2]}\r\n\r\n\r\n      const { low, high } = config;\r\n      return (\r\n        <tr key={attr}>\r\n          <td className=\"align-middle\">{attr}</td>\r\n          <td colSpan=\"2\">\r\n            <div id =\"container\">\r\n                 <Slider \r\n                 range                 \r\n                 min={low}\r\n                 max={high}             \r\n                  tooltipVisible\r\n                  \r\n                  defaultValue={[0,high/2]}\r\n                  ref = {this.inputs[attr][0]}\r\n                 />\r\n            </div>\r\n          </td>   \r\n        </tr>\r\n      );\r\n    });\r\n    trs.push(\r\n      <tr key=\"other\">\r\n        <td className=\"align-top font-weight-bold\">Max No. of Players</td>\r\n        <td style={{textAlign:\"center\"}} colSpan=\"2\">\r\n            <div id =\"container\">\r\n                  <Slider min={3000}\r\n                 max={20000}\r\n                 defaultValue={3000} tooltipVisible\r\n                 ref={this.inputs.maxPoints}\r\n                 style={{color:\"#BA55D3\"}}\r\n                 />\r\n            </div>\r\n        </td>       \r\n      </tr>\r\n    );\r\n    trs.push(\r\n      <tr>\r\n        <td>\r\n           <label className=\"mr-4 col-form-label font-weight-bold\">Method</label>\r\n       </td>\r\n        <td>\r\n         <input           \r\n              type=\"radio\"\r\n              name=\"inlineRadioOptions\"\r\n              id=\"simplex\"\r\n              value=\"simplex\"\r\n              checked={this.props.mode === \"simplex\"}\r\n              onChange={this.handleModeChange}\r\n          />\r\n          <label className=\"form-check-label\" htmlFor=\"simplex\" style={{marginLeft:\"2px\"}}>\r\n              Sorting-Simplex\r\n          </label>\r\n      </td>\r\n        <td>\r\n        <input\r\n              type=\"radio\"\r\n              name=\"inlineRadioOptions\"\r\n              id=\"random\"\r\n              value=\"random\"\r\n              checked={this.props.mode === \"random\"}\r\n              onChange={this.handleModeChange}\r\n          />\r\n          <label className=\"form-check-label\" htmlFor=\"random\" style={{marginLeft:\"2px\"}}>\r\n             Sorting-Random\r\n          </label>\r\n      </td>\r\n     </tr>\r\n    );\r\n    return (\r\n      <div className=\"text-center m-auto\" style={{ maxWidth: \"55rem\" }}>\r\n        <h1>Identify your ideal player!</h1>\r\n        <Carousel autoplay style={{background:\"#87CDFA\",borderRadius:\"10px\"}}>\r\n     \r\n     <div>\r\n         <h4>How to use the system</h4>\r\n         <div style={{width:\"850px\",height:\"260px\"}}>\r\n            <img src={require('../Image/welcome-inc2.png')} style={{marginLeft:\"0.7%\",height:\"90%\"}} alt=\"img1\" />\r\n         </div>           \r\n       </div>\r\n       <div>\r\n          <h4>How to sort displayed points</h4>\r\n         <div style={{width:\"850px\",height:\"260px\"}}>\r\n            <img src={require('../Image/sorting-inc2.png')} style={{marginLeft:\"0.7%\",height:\"90%\"}} alt=\"img2\"/>\r\n         </div>           \r\n       </div>\r\n       <div>\r\n          <h4>Result interface</h4>\r\n         <div style={{width:\"850px\",height:\"260px\"}}>\r\n            <img src={require('../Image/result-inc2.png')} style={{marginLeft:\"0.7%\",height:\"89%\"}} alt=\"img3\" />\r\n         </div>           \r\n       </div>\r\n     </Carousel>\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th style={{textAlign:\"center\",width:\"30%\"}}>Attribute</th>\r\n              <th style={{textAlign:\"left\",width:\"40%\"}}>Min</th>\r\n              <th style={{textAlign:\"right\",width:\"40%\"}}>Max</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {trs}\r\n             \r\n          </tbody>\r\n        </table>\r\n        <div>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-primary\"\r\n            style={{ width: \"8rem\" }}\r\n            onClick={this.handleStart}\r\n          >\r\n            Start\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ attributes, mask, points, mode }) => ({\r\n  attributes,\r\n  mask,\r\n  points,\r\n  mode\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  startAlgorithm: candidates => {\r\n    dispatch(setCandidates(candidates));\r\n    dispatch(setActiveComponent(\"Interaction\"));\r\n  },\r\n  toggleMask: (attr, mask) => dispatch(toggleMask(attr, mask)),\r\n  changeMode: mode => dispatch(changeMode(mode))\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Welcome);\r\n\r\n\r\n/*\r\n<Carousel autoplay style={{background:\"#87CDFA\",borderRadius:\"10px\"}}>\r\n     \r\n        <div>\r\n            <h4>How to use the system</h4>\r\n            <div style={{width:\"850px\",height:\"260px\"}}>\r\n               <img src={require('../Image/welcome-inc.png')} style={{marginLeft:\"5%\",height:\"90%\"}} alt=\"img1\" />\r\n            </div>           \r\n          </div>\r\n          <div>\r\n             <h4>How to sort displayed points</h4>\r\n            <div style={{width:\"850px\",height:\"260px\"}}>\r\n               <img src={require('../Image/sys-rank.png')} style={{marginLeft:\"5%\",height:\"90%\"}} alt=\"img2\"/>\r\n            </div>           \r\n          </div>\r\n          <div>\r\n             <h4>Result interface</h4>\r\n            <div style={{width:\"850px\",height:\"260px\"}}>\r\n               <img src={require('../Image/result-inc.png')} style={{marginLeft:\"9%\",height:\"90%\"}} alt=\"img3\" />\r\n            </div>           \r\n          </div>\r\n        </Carousel>\r\n\r\n\r\n\r\n\r\n         <div id=\"myCarousel\" class=\"carousel slide\" style={{background:\"#87CDFA\",borderRadius:\"10px\"}}>\r\n            <ol class=\"carousel-indicators\">\r\n                <li data-target=\"#myCarousel\" data-slide-to=\"0\" class=\"active\"></li>\r\n                <li data-target=\"#myCarousel\" data-slide-to=\"1\"></li>\r\n                <li data-target=\"#myCarousel\" data-slide-to=\"2\"></li>\r\n            </ol>\r\n            <div class=\"carousel-inner\" style={{width:\"850px\",height:\"260px\"}}>\r\n                <div class=\"item active\">\r\n                  <h4>How to use the system</h4>\r\n                  <img src={require('../Image/welcome-inc.png')} style={{marginLeft:\"5%\",height:\"90%\"}} alt=\"img1\" />\r\n                </div>\r\n                <div class=\"item\">\r\n                    <h4>How to sort displayed points</h4>\r\n                    <div style={{width:\"850px\",height:\"260px\"}}>\r\n                      <img src={require('../Image/sys-rank.png')} style={{marginLeft:\"5%\",height:\"90%\"}} alt=\"img2\"/>\r\n                    </div>\r\n                </div>\r\n                <div class=\"item\">\r\n                    <h4>Result interface</h4>\r\n                    <div style={{width:\"850px\",height:\"260px\"}}>\r\n                      <img src={require('../Image/result-inc.png')} style={{marginLeft:\"9%\",height:\"90%\"}} alt=\"img3\" />\r\n                    </div> \r\n                </div>\r\n            </div>\r\n            <a class=\"left carousel-control\" href=\"#myCarousel\" role=\"button\" data-slide=\"prev\">\r\n                  <span class=\"glyphicon glyphicon-chevron-left\" aria-hidden=\"true\">\r\n\r\n                  </span>\r\n                  <span class=\"sr-only\">\r\n                      Previous\r\n                  </span>\r\n            </a>\r\n            <a class=\"right carousel-control\" href=\"#myCarousel\" role=\"button\" data-slide=\"next\">\r\n                  <span class=\"glyphicon glyphicon-chevron-right\" aria-hidden=\"true\">\r\n                  </span>\r\n                  <span class=\"sr-only\">\r\n                    Next\r\n                  </span>\r\n            </a>\r\n        </div>     \r\n*/","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  setActiveComponent,\r\n  setLeftPoints,\r\n  setLeftPoints_noSort,\r\n  prunePoints,\r\n  updateConvexHull,\r\n} from \"../actions\";\r\nimport {\r\n  array2Vector2D,\r\n  vector2Array,\r\n  getPrunedIndices,\r\n  vector2Array2D\r\n} from \"../utils\";\r\n\r\nimport  \"bootstrap/js/popover.js\";\r\nimport  \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport   \"bootstrap/dist/js/bootstrap.min.js\";\r\n\r\nimport {Button} from \"antd\";\r\nimport \"antd/dist/antd.css\";\r\n\r\nconst SIMPLEX = 2;\r\nconst RANDOM = 1;\r\nvar choose_perround = 0;\r\nvar choose_arrs =[0,0,0];\r\nvar  dragelement=0;\r\nvar  putelement=0;\r\nvar  sort_list_index =[0,1,2];\r\nvar  questionsnum = 3;\r\n// iteratively ask the user to choose the preferred car from a pair of cars.\r\nclass Question extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const smallerBetter = new window.Module.VectorInt();\r\n    this.attributes = [];\r\n    this.props.attributes.forEach(([attr, config]) => {\r\n      if (this.props.mask[attr]) {\r\n        smallerBetter.push_back(config.smallerBetter ? 1 : 0);\r\n        this.attributes.push(attr);\r\n      }\r\n    });\r\n    const candidatesVec = array2Vector2D(this.props.candidates);\r\n    this.runner = new window.Module.AlgorithmRunner(\r\n      candidatesVec,\r\n      smallerBetter,\r\n      this.props.mode === \"random\" ? RANDOM : SIMPLEX\r\n    );\r\n    candidatesVec.delete();\r\n    this.prevIndices = this.runner.getCandidatesIndices();\r\n    this.props.setLeftPoints(vector2Array(this.prevIndices));\r\n    const num_noSort = this.runner.numLeftPoints_noSort();\r\n    this.props.setLeftPoints_noSort(num_noSort);\r\n    if (this.prevIndices.size() <= 2) {\r\n      this.state = { pair: [] };\r\n      this.stopInteraction();\r\n    } else {\r\n      const vec = window.Module.readConvexHullVertices();\r\n      const convexHullVertices = vector2Array2D(vec);\r\n      vec.delete();\r\n      this.props.updateConvexHull(convexHullVertices);\r\n      const indices = this.runner.nextPair(3);\r\n      this.state = {\r\n        pair: vector2Array(indices)\r\n      };\r\n    }\r\n\r\n  }\r\n  /**-------the section of functions(begin)-------- */\r\n    // 拖拽开始\r\ndragStart=(e,item)=>{\r\n  //e.dataTransfer.setData('item',JSON.stringify(item));// 拖拽元素携带的数据\r\n  if(dragelement === 0)dragelement = e.currentTarget;\r\n  //alert(e.currentTarget.innerHTML);\r\n};\r\n\r\n// 拖拽元素经过放置元素时\r\ndragOver = (e)=> {\r\n  e.preventDefault();// 此处的代码是必须的  不然无法拖拽\r\n  //alert(e.currentTarget.innerHTML);\r\n};\r\n\r\n// 拖拽元素放到放置元素时\r\ndrop=(e)=>{\r\n  putelement = e;\r\n  e.preventDefault();\r\n  // 放置之后的后续操作\r\n  let length = dragelement.childElementCount;\r\n  let  zhongjianvalue;\r\n  let  variable = sort_list_index[parseInt(dragelement.childNodes[0].innerText)-1];\r\n  sort_list_index[parseInt(dragelement.childNodes[0].innerText)-1]  = sort_list_index[parseInt(putelement.currentTarget.childNodes[0].innerText)-1];\r\n  sort_list_index[parseInt(putelement.currentTarget.childNodes[0].innerText)-1]  = variable;\r\n  for(let i=1;i<length;i++){\r\n    zhongjianvalue = dragelement.childNodes[i].innerText;\r\n    dragelement.childNodes[i].innerText = putelement.currentTarget.childNodes[i].innerText;\r\n    putelement.currentTarget.childNodes[i].innerText  = zhongjianvalue ;\r\n  }\r\n  putelement = dragelement = 0;\r\n  \r\n};\r\n\r\n\r\n//ascending  by attributes;\r\nascSortfunction=(e)=>{\r\n  let strname = e.currentTarget.parentElement.innerText;\r\n  let  sortindex = 0;\r\n  //\r\n  if(strname === \"Points\") sortindex=1;\r\n  if(strname === \"Rebounds\") sortindex=2;\r\n  if(strname === \"Steals\") sortindex=3;\r\n  let  tablevalue =this.refs.items;\r\n  let  tbodyvalue = tablevalue.childNodes[1];//tbodyvalue\r\n\r\n\r\n   const datalist = [];\r\n   const  namelist =[];\r\n   let each_data_len = 0;  each_data_len = tbodyvalue.firstChild.childElementCount-2;\r\n   let  data_count = 0; data_count = tbodyvalue.childElementCount;\r\n   let sortlist =new Array(data_count);\r\n   let flag_sortlist =new Array(data_count);\r\n   for(let i = 0; i < data_count;i++){\r\n    sortlist[i] = flag_sortlist[i] = 0;\r\n   }\r\n   this.state.pair.map((idx) => {\r\n     namelist.push(this.props.labels[idx]);\r\n    this.props.candidates[idx].forEach((x) => {\r\n      datalist.push(parseInt(x));\r\n    });\r\n  });\r\n  let   max_record = 0;\r\n  for(let k = 0;k< data_count;k++){\r\n//find  k-th  max data;\r\n for(let i = 0;i<data_count;i++){\r\n    if(!flag_sortlist[i]) {max_record = i;break;}\r\n }    \r\n for(let j = 0;j < data_count;j++){\r\n    if(datalist[max_record * each_data_len + sortindex -1] >= datalist[j * each_data_len + sortindex -1] && max_record !== j && flag_sortlist[max_record] === 0 && flag_sortlist[j] === 0){\r\n       max_record =j;\r\n     } \r\n   }\r\n flag_sortlist[max_record] =1;\r\n sortlist[k] = max_record;\r\n}\r\n\r\n  // sort the trs\r\n for(let i = 0 ;i < data_count;i++){\r\n     let  cur_tr = tbodyvalue.childNodes[i];\r\n     for(let j = 0;j < each_data_len;j++){\r\n       cur_tr.childNodes[j+2].innerText = datalist[sortlist[i]*each_data_len+j]//row: sortlist[i]  col:j\r\n     }\r\n     cur_tr.childNodes[1].innerText = namelist[sortlist[i]];\r\n   }\r\nsort_list_index = sortlist;\r\n\r\n};\r\n\r\n//descending  by attributes;\r\ndscSortfunction=(e)=>{\r\n  let strname = e.currentTarget.parentElement.innerText;\r\n  let  sortindex = 0;\r\n  //\r\n  if(strname === \"Points\") sortindex=1;\r\n  if(strname === \"Rebounds\") sortindex=2;\r\n  if(strname === \"Steals\") sortindex=3;\r\n  let  tablevalue =this.refs.items;\r\n  let  tbodyvalue = tablevalue.childNodes[1];//tbodyvalue\r\n\r\n\r\n   const datalist = [];\r\n   const namelist = [];\r\n   let each_data_len = 0;  each_data_len = tbodyvalue.firstChild.childElementCount-2;\r\n   let  data_count = 0; data_count = tbodyvalue.childElementCount;\r\n   let sortlist =new Array(data_count);\r\n   let flag_sortlist =new Array(data_count);\r\n   for(let i = 0; i < data_count;i++){\r\n    sortlist[i] = flag_sortlist[i] = 0;\r\n   }\r\n   this.state.pair.map((idx) => {\r\n    namelist.push(this.props.labels[idx]);\r\n    this.props.candidates[idx].forEach((x) => {\r\n      datalist.push(parseInt(x));\r\n    });\r\n  });\r\n\r\n\r\n  let   max_record = 0;\r\n  for(let k = 0;k< data_count;k++){\r\n//find  k-th  max data;\r\n for(let i = 0;i<data_count;i++){\r\n    if(!flag_sortlist[i]) {max_record = i;break;}\r\n }    \r\n for(let j = 0;j < data_count;j++){\r\n    if(datalist[max_record * each_data_len + sortindex -1] >= datalist[j * each_data_len + sortindex -1] && max_record !== j && flag_sortlist[max_record] === 0 && flag_sortlist[j] === 0){\r\n       max_record =j;\r\n     } \r\n   }\r\n flag_sortlist[max_record] =1;\r\n sortlist[k] = max_record;\r\n}\r\n\r\n  // sort the trs\r\n for(let i = 0 ;i < data_count;i++){\r\n     let  cur_tr = tbodyvalue.childNodes[i];\r\n     for(let j = 0;j <each_data_len;j++){\r\n       cur_tr.childNodes[j+2].innerText = datalist[sortlist[data_count-1-i]*each_data_len+j]//row: sortlist[i]  col:j\r\n     }\r\n     cur_tr.childNodes[1].innerText = namelist[sortlist[data_count-1-i]];\r\n   }\r\n   for(let k = 0;k< data_count;k++){\r\n     sort_list_index[k] = sortlist[data_count-1-k];\r\n   }\r\n\r\n};\r\nchoose = (idx) => {\r\n  \r\n  alert(idx);\r\n  choose_arrs[choose_perround++] =parseInt(idx);\r\n  if(choose_perround === questionsnum){\r\n      for(let j = 0 ;j< questionsnum;j++)this.runner.choose(choose_arrs[j]);\r\n    \r\n  }\r\n \r\n};\r\nstopInteraction = () => {\r\n  sort_list_index = [0,1,2];\r\n  this.prevIndices.delete();\r\n  this.runner.delete();\r\n  this.props.showResult();\r\n};\r\nnextinteraction =()=>{\r\n\r\n  let  tablevalue =this.refs.items;\r\n  let  tbodyvalue = tablevalue.childNodes[1];//tbodyvalue\r\n\r\n  questionsnum = tbodyvalue.childElementCount;\r\n  for(let i = 0;i < questionsnum;i++){\r\n   \r\n    let value = parseInt(sort_list_index[i]);\r\n    this.runner.choose(value); \r\n  }\r\n \r\n  const convexHullVertices = vector2Array2D(\r\n    window.Module.readConvexHullVertices());\r\n    this.props.updateConvexHull(convexHullVertices);\r\n  const currIndices = this.runner.getCandidatesIndices();\r\n  const prunedIndices = getPrunedIndices(this.prevIndices, currIndices);\r\n  const questioNo = this.props.numLeftPoints.length;\r\n\r\n  this.props.prunePoints(prunedIndices, questioNo);\r\n  this.prevIndices.delete();\r\n  this.prevIndices = currIndices;\r\n\r\n  const num_noSort = this.runner.numLeftPoints_noSort();\r\n  this.props.setLeftPoints_noSort(num_noSort);\r\n  choose_arrs=[0,0,0];\r\n  choose_perround = 0;\r\n  sort_list_index = [0,1,2];\r\n  questionsnum = 3;\r\n  if (currIndices.size() === 1) {\r\n    this.state = { pair: [] };\r\n    this.stopInteraction();\r\n  }else if(currIndices.size() >=  3){     \r\n      const indices = this.runner.nextPair(questionsnum);\r\n      this.setState({\r\n             pair: vector2Array(indices)});\r\n   }else{\r\n    questionsnum = 2;\r\n    const indices = this.runner.nextPair(questionsnum);\r\n    this.setState({\r\n           pair: vector2Array(indices)});\r\n   }\r\n  \r\n};\r\n  /**-------the section of functions(end)-------- */\r\n  render() {\r\n\r\n    const ths = [<th key=\"Option No.\" style={{verticalAlign:\"middle\",textAlign:\"center\"}}><font size=\"3\">Player</font></th>];\r\n    ths.push(<th key=\"Option No.\" style={{verticalAlign:\"middle\",textAlign:\"center\"}}><font size=\"3\">Name</font></th>)\r\n    this.attributes.forEach(attr => {\r\n      ths.push(<th key={attr}\r\n       >\r\n           <font size=\"3\">{attr}</font>\r\n                <span class=\"glyphicon glyphicon-arrow-up\" aria-hidden=\"true\" \r\n                style={{display:\"inline-block\",cursor:\"pointer\"}}\r\n                onClick={(e)=>this.ascSortfunction(e)}\r\n                >\r\n                </span>\r\n                <span class=\"glyphicon glyphicon-arrow-down\" aria-hidden=\"true\"\r\n                style={{display:\"inline-block\",cursor:\"pointer\"}}\r\n                onClick={(e)=>this.dscSortfunction(e)}\r\n                >\r\n                </span>    \r\n      </th>\r\n     );\r\n    });\r\n    ths.push(<th key=\"chooseButton\" />);\r\n\r\n    const trs = this.state.pair.map((idx, i) => {\r\n      const tds = [<td key=\"Option No.\" >{i + 1}</td>];\r\n      tds.push(<td key=\"Name=\" >{this.props.labels[idx]}</td>);\r\n      this.props.candidates[idx].forEach((x, j) => {\r\n        tds.push(<td key={j}>{x}</td>);\r\n      });\r\n      return (\r\n        <tr key={i} data-toggle=\"tooltip\" title={this.props.labels[idx]}\r\n         draggable={true} onDrag={(e)=>this.dragStart}\r\n         onDrop={(e)=>this.drop(e)}\r\n         onDragOver={(e)=>this.dragOver(e)}\r\n         onDragStart={(e)=>this.dragStart(e,i)}\r\n         >\r\n          {tds}\r\n        </tr>\r\n      );\r\n    }); \r\n \r\n    return (\r\n      <div class=\"col-md-7 column pull-left\">\r\n        <h2>Sorting displayed players</h2>    \r\n            <table className=\"table table-hover text-center\" ref=\"items\">\r\n              <thead>\r\n                <tr>{ths}</tr>\r\n              </thead>\r\n              <tbody>{trs}</tbody>\r\n    <tr>\r\n    <td style={{textAlign:\"right\",cursor:\"pointer\"}}\r\n    onClick={this.nextinteraction}\r\n    colSpan=\"2\"\r\n    >\r\n      <Button type=\"primary\"> Next\r\n      </Button>\r\n      \r\n    </td>\r\n   <td style={{cursor:\"pointer\",textAlign:\"right\"}}\r\n   onClick={this.stopInteraction}\r\n   colSpan=\"2\"\r\n   >\r\n     <Button type=\"primary\">Stop\r\n      </Button>\r\n     \r\n   </td>\r\n   </tr>\r\n            </table>                  \r\n      </div>\r\n\r\n    );\r\n\r\n   }\r\n};\r\n\r\n\r\n\r\nconst mapStateToProps = ({\r\n  labels,\r\n  candidates,\r\n  mask,\r\n  attributes,\r\n  numLeftPoints,\r\n  numLeftPoints_noSort,\r\n  mode\r\n}) => ({\r\n  labels,\r\n  candidates,\r\n  mask,\r\n  attributes,\r\n  numLeftPoints,\r\n  numLeftPoints_noSort,\r\n  mode\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  showResult: () => {\r\n    dispatch(setActiveComponent(\"Result\"));\r\n  },\r\n  setLeftPoints: indices => {\r\n    dispatch(setLeftPoints(indices));\r\n  },\r\n  setLeftPoints_noSort: num_noSort => {\r\n    dispatch(setLeftPoints_noSort(num_noSort));\r\n  },\r\n  prunePoints: (indices, step) => {\r\n    dispatch(prunePoints(indices, step));\r\n  },\r\n  updateConvexHull: vertices => {\r\n    dispatch(updateConvexHull(vertices));\r\n  }\r\n});\r\n\r\n\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Question);\r\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport echarts from \"echarts\";\n\nimport \"../../node_modules/react-vis/dist/style.css\";\nimport  \"../../node_modules/bootstrap/dist/css/bootstrap.min.css\";\nimport   \"../../node_modules/bootstrap/dist/js/bootstrap.min.js\";\n// a histogram to show the number of cars left vs the number of questions asked.\n\n\nclass Histogram extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hintValue: null\n    };\n  }\n\n  _onMouseLeave = () => {\n    this.setState({\n      hintValue: null\n    });\n  };\n\n  _onNearestX = (value, { index }) => {\n    this.setState({\n      hintValue: this.props.data[index]\n    });\n  };\n  componentDidMount(){\n    this.init(this.props.data)\n  }\n  componentWillUpdate(nextProps,nextState){\n    this.init(nextProps.data)\n  }\n  init=(echartsData)=>{\n    let  myChart = echarts.init(document.getElementById('canvasdiv'),null,{render:'svg'});\n    //let  myChart = echarts.init(document.getElementById('canvasdiv'));\n    let  option = null;\n    let xAxisData = [];\n    let seriesData = [];\n    echartsData.map((v,i)=>{\n      xAxisData.push(`Round:${i}`)\n      seriesData.push(v.y)\n    })\n     option = {\n      tooltip: {\n          trigger: 'axis',\n          axisPointer: {\n              type: 'none'\n          },\n          formatter: function (params) {\n              return params[0].name + ': ' + params[0].value;\n          }\n      },\n      xAxis: {\n          data: xAxisData,\n          axisTick: {show: true},\n          axisLine: {show: true},\n          axisLabel: {\n              color: '#e54035'\n          }\n      },\n      yAxis: {\n          splitLine: {show: true},\n          axisTick: {show: true},\n          axisLine: {show: true},\n          axisLabel: {show: true}\n      },\n      title: {\n        text: 'No. of players left',\n        left:'20%'\n    },\n      color: ['#e54035'],\n      series: [{\n          name: 'hill',\n          type: 'pictorialBar',\n          barCategoryGap: '-130%',\n          symbol: 'path://M0,10 L10,10 L5,0 L0,10 z',\n          symbol: 'path://M0,10 L10,10 C5.5,10 5.5,5 5,0 C4.5,5 4.5,10 0,10 z',\n          itemStyle: {\n              opacity: 0.5\n          },\n          emphasis: {\n              itemStyle: {\n                  opacity: 1\n              }\n          },\n          data: seriesData,\n          z: 10\n      },]\n  };\n  if (option && typeof option === \"object\") {\n      myChart.setOption(option, true);\n  }\n    }\n  render() {\n    return (\n      <div class=\"col-md-5 column\">\n            <div style={{width:\"30rem\", height: \"30rem\",textAlign:\"center\",marginLeft:\"9rem\" }} id=\"canvasdiv\">            \n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({ numLeftPoints }) => ({\n  data: numLeftPoints.map((num, i) => ({ x: i, y: num }))\n});\n\nexport default connect(mapStateToProps)(Histogram);\n","import React from \"react\";\nimport Histogram from \"./Histogram\";\n\nfunction Visuals() {\n  return (\n        <Histogram/>\n  );\n}\nexport default Visuals;\n\n\n\n\n\n\n\n\n\n\n\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\n\r\n\r\nimport Highcharts from \"../../node_modules/highcharts/highcharts.js\";\r\nimport highcharts3d from  \"../../node_modules/highcharts/highcharts-3d.js\";\r\nhighcharts3d(Highcharts);\r\n\r\n\r\n// statistics including the number of cars pruned/left.\r\nclass Stats extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.attributes = [];\r\n    this.chart = [];\r\n    this.props.attributes.forEach(([attr, config]) => {\r\n      if (this.props.mask[attr]) {\r\n        this.attributes.push(attr);\r\n      }\r\n    });\r\n    this.cur_left_points=[];\r\n    this.MouseDown = this.MouseDown.bind(this);\r\n    \r\n  }\r\n \r\ncomponentDidUpdate(){\r\n  let  datalist =[];\r\n    for(let  i = 0; i<this.cur_left_points.length;i++){\r\n       let each_data = this.props.candidates[this.cur_left_points[i]];\r\n       let  threeds_data=[];\r\n         for(let j =0;j < 3;j++)\r\n           {\r\n             threeds_data[j] =  each_data[j];\r\n            }\r\n       datalist.push(threeds_data);\r\n    }\r\n  \r\n   this.chart = new Highcharts.Chart({\r\n    chart: {   \r\n        renderTo:'container',       \r\n        margin:50,\r\n        type:'scatter',\r\n        height:400,\r\n        options3d: {\r\n            enabled: true,\r\n            alpha: 10,\r\n            beta: 50,\r\n            depth: 250,\r\n            viewDistance: 5,\r\n            frame: {\r\n                bottom: { size: 1, color: 'rgba(0,0,0,0.2)' },\r\n                back: { size: 1, color: 'rgba(0,0,0,0.2)' },\r\n                side: { size: 1, color: 'rgba(0,0,0,0.2)' }\r\n            },\r\n          fitToPlot:true\r\n        }\r\n    },\r\n    credits:{\r\n      enabled:false\r\n    },\r\n    title: {\r\n        text: '<b>3D scatter plot</b>'\r\n    },\r\n    subtitle:{\r\n      text:'Click and drag, to rotate the drawing area'\r\n    },\r\n    plotOptions: {\r\n        scatter: {\r\n            width: 100,\r\n            height: 100,\r\n            depth: 100\r\n        },\r\n        series:{\r\n          marker:{\r\n            radius:7\r\n          }\r\n        }\r\n    },\r\n    yAxis: {\r\n     // min: 0,\r\n      //max: 350,\r\n      title: {\r\n        text:'<b>Rebounds</>'\r\n      },\r\n  },\r\n  xAxis: {\r\n     // min: 0,\r\n      //max: 1500,\r\n      gridLineWidth: 1,\r\n      title: {\r\n        text:'<b>Points</>'\r\n      },\r\n  },\r\n  zAxis: {\r\n      //min: 0,\r\n     // max: 350,\r\n      offset:2,\r\n      title: {\r\n        text:'<b>Steals</>'\r\n      },\r\n  },\r\n    legend: {\r\n        enabled: false\r\n    },\r\n    series: [{\r\n        name: ' NBA  data',\r\n        colorByPoint: true,\r\n        data: datalist\r\n    }]\r\n    });\r\n\r\n}\r\nMouseDown=(e)=>{\r\n  e = this.chart.pointer.normalize(e);\r\n  let posX = e.pageX;\r\n  let posY = e.pageY;\r\n  let alpha = this.chart.options.chart.options3d.alpha;\r\n  let beta = this.chart.options.chart.options3d.beta;\r\n  let newAlpha = 0;\r\n  let newBeta = 0;\r\n  let sensitivity =6;\r\n  let chart = this.chart;\r\n  document.onmousemove=function(e){\r\n    newBeta = beta  + (posX - e.pageX) / sensitivity;\r\n\r\n    newBeta = Math.min(100, Math.max(-100, newBeta));\r\n    chart.options.chart.options3d.beta = newBeta;\r\n    newAlpha = alpha + (e.pageY - posY) / sensitivity;\r\n\r\n    newAlpha = Math.min(100, Math.max(-100, newAlpha));\r\n    chart.options.chart.options3d.alpha = newAlpha;\r\n    chart.redraw(false); \r\n    e.target.onmouseup=function(e){\r\n      document.onmousemove = null;\r\n      e.target.onmouseup = null;\r\n    }\r\n   \r\n  }\r\n\r\n}\r\n  render() {\r\n    \r\n    //--------------\r\n    this.cur_left_points = this.props.leftPoints;\r\n    return (\r\n      <div class=\"col-md-7 column pull-left\" >\r\n            <div  id=\"container\"\r\n            onMouseDown={(e)=>this.MouseDown(e)}\r\n            ></div>\r\n      </div>\r\n        );  \r\n  }\r\n  //--------------------------\r\n\r\n\r\n}\r\n\r\nconst mapStateToPropsStats = ({\r\n  candidates,\r\n  leftPoints,\r\n  attributes,\r\n  mask\r\n}) => ({\r\n  candidates,\r\n  leftPoints,\r\n  attributes,\r\n  mask\r\n});\r\n\r\n\r\nexport default connect(mapStateToPropsStats)(Stats);\r\n\r\n\r\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n\n\nimport Highcharts from \"highcharts/highcharts.js\";\nimport \"../../node_modules/react-vis/dist/style.css\";\nimport  \"../../node_modules/bootstrap/dist/css/bootstrap.min.css\";\nimport   \"../../node_modules/bootstrap/dist/js/bootstrap.min.js\";\n\n// a histogram to show the number of cars left vs the number of questions asked.\n\nclass Comparison extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hintValue: null\n    };\n    this.chart =[];\n    this.noSortList=[];\n    this.sortList =[];\n  }\n\n/**\n * \n * \n *  rendervaule = {this.props.numLeftPoints_noSort}\n    rendervauleSort = {this.props.numLeftPoints}\n */\n\n\n  _onMouseLeave = () => {\n    this.setState({\n      hintValue: null\n    });\n  };\n\n  componentDidUpdate(){\n    this.noSortList.push(this.props.numLeftPoints_noSort);\n    this.chart =new Highcharts.chart('container2',{\n      chart: {\n        type: 'column'\n      },\n      colors:['#BA55D3','#7CB5EC'],\n      title:{\n        text:this.props.mode === \"random\"?'<b>Sorting-Random vs. Random</b>':'<b>Sorting-Simplex vs. Simplex</b>'\n      },\n      credits:{\n        enabled:false\n      },\n      xAxis: {\n        categories: [\n          '1st round','2nd round','3rd round','4th round','5th round','6th round','7th round','8th round','9th round'],\n        crosshair: true\n      },\n      yAxis: {\n        min: 0,\n        title: {\n          text: '<b>Number of remaining players<b>'\n        }\n      },\n      tooltip: {\n        // head + 每个 point + footer 拼接成完整的 table\n        headerFormat: '<span style=\"font-size:10px\">{point.key}</span><table>',\n        pointFormat: '<tr><td style=\"color:{series.color};padding:0\">{series.name}: </td>'+\n        '<td style=\"padding 0\"><b>{point.y}</b></td></tr>',\n        footerFormat: '</table>',\n        shared: true,\n        useHTML: true\n      },\n      plotOptions: {\n        column: {\n          borderWidth: 0\n        }\n      },\n      series: [ {\n        name: this.props.mode === \"random\"?'Random':'Simplex',\n        data: this.noSortList\n      },\n      {\n        name: this.props.mode === \"random\"?'Sorting-Random':'Sorting-Simplex',\n        data: this.props.numLeftPoints\n      }]\n    });\n  }\n\n  render() {\n    return (\n      <div class=\"col-md-5 column\">\n        \n        <div \n        id=\"container2\"\n        style={{marginLeft:\"9rem\"}}\n        >                  \n        </div>\n        </div>\n        );\n  }\n}\n\n\nconst mapStateToProps = ( {\n  numLeftPoints_noSort,\n  numLeftPoints,\n  mode\n}) => \n({\n  numLeftPoints_noSort,\n  numLeftPoints,\n  mode\n}\n \n);\n\nexport default connect(mapStateToProps)(Comparison);","import React from \"react\";\nimport Question from \"./Question\";\nimport Visuals from \"./Visuals\";\nimport Stats from \"./Stats\";\nimport Comparison from \"./Comparison\";\n\nimport   \"bootstrap/dist/js/bootstrap.min.js\";\n\n\nfunction Interaction() {\n  return ( \n     <div class=\"container\"> \n      <div class=\"row clearfix\">\n         <Question />\n         <Visuals/>\n            \n    </div>\n    <div class=\"row clearfix\">\n          <Stats />  \n          <Comparison/>\n    </div>\n    </div>\n  );\n}\n\nexport default Interaction;\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { setActiveComponent, restart } from \"../actions\";\r\nimport classNames from \"classnames\";\r\n\r\n\r\n// show the number of questions asked and the favourite car/remaining cars.\r\nfunction Result({\r\n  labels,\r\n  candidates,\r\n  leftPoints,\r\n  attributes,\r\n  mask,\r\n  numLeftPoints,\r\n  restart\r\n}) {\r\n  let ths = [<th style={{textAlign:\"center\"}} key=\"Name\">Name</th>];\r\n  attributes.forEach(([attr, config]) => {\r\n    if (mask[attr]) {\r\n      const th = <th style={{textAlign:\"center\"}} key={attr}>{attr}</th>;\r\n      ths.push(th);\r\n    }\r\n  });\r\n  const trs = leftPoints.map((idx, i) => (\r\n    <tr key={i} data-toggle=\"tooltip\" title={labels[idx]}>\r\n      <td  key={labels[idx]}>{labels[idx]}</td>\r\n       {candidates[idx].map((x, j) => (\r\n        <td key={j}>{x}</td>\r\n      ))}\r\n    </tr>\r\n  ));\r\n  return (\r\n    <div className=\"justify-content-center\">\r\n      <h4>The Total No. of Rounds Interacted is: {numLeftPoints.length - 1}.</h4>\r\n      <h4>\r\n        {leftPoints.length === 1\r\n          ? \"Your Ideal Player is:\"\r\n          : `${leftPoints.length} Players Left in the Database:`}\r\n      </h4>\r\n      <table\r\n        className={classNames(\"table\", \"table-hover\", {\r\n          \"table-fixed\": trs.length > 7\r\n        })}\r\n        style={{\r\n          maxWidth: \"40rem\",\r\n          margin: \"auto\"\r\n        }}\r\n      >\r\n        <thead>\r\n          <tr>{ths}</tr>\r\n        </thead>\r\n        <tbody>{trs}</tbody>\r\n      </table>\r\n      <div>\r\n        <button type=\"button\" className=\"btn btn-primary\" onClick={restart}>\r\n          Return to the welcome interface\r\n        </button>\r\n      </div>\r\n     \r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = ({\r\n  labels,\r\n  candidates,\r\n  leftPoints,\r\n  attributes,\r\n  mask,\r\n  numLeftPoints,\r\n  numLeftPoints_noSort,\r\n}) => ({\r\n  labels,\r\n  candidates,\r\n  leftPoints,\r\n  attributes,\r\n  mask,\r\n  numLeftPoints,\r\n  numLeftPoints_noSort\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  restart: () => {\r\n    dispatch(setActiveComponent(\"Welcome\"));\r\n    dispatch(restart());\r\n  }\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Result);\r\n","import React from \"react\";\r\nimport Welcome from \"./Welcome\";\r\nimport Interaction from \"./Interaction\";\r\nimport Result from \"./Result\";\r\nimport { connect } from \"react-redux\";\r\n\r\nfunction App({ activeComponent }) {\r\n  switch (activeComponent) {\r\n    case \"Welcome\":\r\n      return <Welcome />;\r\n    case \"Interaction\":\r\n      return <Interaction />;\r\n    case \"Result\":\r\n      return <Result />;\r\n    default:\r\n      return <div />;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ activeComponent }) => ({\r\n  activeComponent\r\n});\r\n\r\nexport default connect(mapStateToProps)(App);\r\n","import { createStore } from \"redux\";\r\nimport rootReducer from \"./reducers\";\r\nimport React from \"react\";\r\nimport { render } from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport App from \"./components/App\";\r\nimport { loadDataset } from \"./utils\";\r\n\r\n\r\nwindow.Module = {\r\n  onRuntimeInitialized: async function() {\r\n    const [points, labels] = await loadDataset(\r\n      \"./datasets/nba_d3.txt\",\r\n      \"./datasets/NBA-NAME.txt\"\r\n    );\r\n    const attributes = [\r\n      [\"Points\", { low: 0, high: 1453, smallerBetter: false }],\r\n      [\"Rebounds\", { low: 0, high: 350, smallerBetter: false }],\r\n      [\"Steals\", { low: 0, high: 81, smallerBetter: false }]\r\n    ];\r\n    const mask = {};\r\n    attributes.forEach(([attr, config]) => {\r\n      mask[attr] = 1;\r\n    });\r\n\r\n    const store = createStore(\r\n      rootReducer,\r\n      { points, labels, attributes, mask }\r\n      // window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n    );\r\n    render(\r\n      <Provider store={store}>\r\n        <App />\r\n      </Provider>,\r\n      document.getElementById(\"root\")\r\n    );\r\n  }\r\n};\r\n\r\nconst script = document.createElement(\"script\");\r\nscript.src = \"web.js\";\r\nscript.async = true;\r\ndocument.body.appendChild(script);\r\n"],"sourceRoot":""}